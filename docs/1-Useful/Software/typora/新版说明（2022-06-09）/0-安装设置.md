# Typora全家桶 安装及配置说明
> ### 写的比较一般，大家看到有问题及时找我，我随时改！
>
> tip：本文通过 picgo + github 实现图床功能（2022-05-18，那一天gitee 黄了，所以，我们改用 github~）
>
> 一些参考：
>
> - [picgo插件列表](https://github.com/PicGo/Awesome-PicGo) 、[picgo github 配置](https://picgo.github.io/PicGo-Core-Doc/zh/guide/config.html#picbed-github) 
> - [如何利用 Github 搭建自己的免费图床](https://zhuanlan.zhihu.com/p/353775844) 
> - [免费CDN：jsDelivr+Github 使用方法](https://zhuanlan.zhihu.com/p/76951130) 

## 安装 正(po jie)版 Typora

> 穷苦的我们。。虽燃八九十就可以买永久，还是以后有钱再说吧哈哈哈

- win

typora1.2.4 win端破解教程：

参考教程（两分钟破解）：https://www.bilibili.com/video/BV1FT4y1e7Do?spm_id_from=333.337.search-card.all.click

下载:https://liudank.lanzouh.com/igOef02uajuh 密码:184w

- mac

点击下载：https://download.typora.io/mac/Typora-1.2.4.dmg

破解比win简单，不需要覆盖文件啥的~ 打开软件，直接填下面信息就ok！(记得应该是)

邮箱：xiajierluantian@163.com (随便写)
授权码: E8Q9Y5-KXMTL5-7578SL-4S5XKS



## Typora 基本设置

> win和mac设置可能有一丢丢不一样，大体都差不多（有问题再说）
>
> `设置`在软件左上角，打开设置界面，应该叫`偏好设置`，英文系统找 `Preference`

### 通用设置

自动保存，好东西，打开

自动更新，没花钱，关了吧…

其他。。没啥了吧，照着下面点：

![image-20220609203459799](https://raw.githubusercontent.com/vacrain/typora_img/main/2022/2022-06-09_20-34-59_image-20220609203459799.png)



![image-20220609203524941](https://raw.githubusercontent.com/vacrain/typora_img/main/2022/2022-06-09_20-35-25_image-20220609203524941.png)



### 外观设置

> 其实就是主题设置

- 设置主题

最下面，有一个`打开主题文件夹`，一个`获取主题`

点`获取主题`，去下载源文件，就是css文件，别的不用管

然后点`打开主题文件夹`，把css文件放进去，重启typora即可

- 切换主题

在顶部菜单栏中，点主题，选主题，即可~

- 推荐主题

都放到了themes文件夹里，去覆盖本地的主题文件夹，然后可以都试试，然后把喜欢的留下~

- 参考设置

![image-20220609205402397](https://raw.githubusercontent.com/vacrain/typora_img/main/2022/2022-06-09_20-54-02_image-20220609205402397.png)



### 编辑器设置

> 照着点吧。。累了

![image-20220609171001149](https://raw.githubusercontent.com/vacrain/typora_img/main/2022/2022-06-09_17-10-01_image-20220609171001149.png)

### 图像设置

> 其实就是图床设置

1. 设置默认插入图片时，进行上传图片，按照下图进行选择即可

![image-20210908101117420](https://github.com/vacrain/typora_img/raw/main/assets/imgs/2021/2021-09-08 10-11-18_image-20210908101117420.png)

2. 上传图片设置

点开下拉框，可以看到有很多上传图片的服务：

![image-20210908101540490](https://github.com/vacrain/typora_img/raw/main/assets/imgs/2021/2021-09-08 10-15-41_image-20210908101540490.png)

**上面四个选项说明**：

-   None：不进行上传（不想上传的时，比如隐私图片，可以勾选这个，临时关闭上传功能）
-   PicGo-Core (command line) : 通过**PicGo 命令程序**进行上传（就是 cmd 中能用的命令，非计算机相关人员看下一个吧）
-   PicGo (app) : 通过**PicGo 客户端**，注意一下，这个选项只有中文系统有，原因未知...
    中文系统中有该选项：![image-20210908102825396](https://github.com/vacrain/typora_img/raw/main/assets/imgs/2021/2021-09-08 10-28-26_image-20210908102825396.png)
    英文系统中，没有 `PicGo (app)` 选项：![image-20210908101354894](https://github.com/vacrain/typora_img/raw/main/assets/imgs/2021/2021-09-08 10-13-56_image-20210908101354894.png)
-   Custom Command ：自定义其他的上传图片服务，四个选项两个 PicGo 相关，可以看出天选之子 Picgo 是最好的上传图片的工具了

接下来

==如果是 Win 系统==，请选择`PicGo-Core (command line)` 

==如果是 Mac 系统==，请选择`PicGo (app) ` 



### Markdown 设置

> 快乐 md ，照着点

![image-20220609212732860](https://raw.githubusercontent.com/vacrain/typora_img/main/2022/2022-06-09_21-27-33_image-20220609212732860.png)

![image-20220609212758204](https://raw.githubusercontent.com/vacrain/typora_img/main/2022/2022-06-09_21-27-58_image-20220609212758204.png)



### 导出设置

> 不需要设置



## picgo + github 实现图床

> 介绍一下图床工作流程：
>
> 1. 在typora中粘贴图片、拖入图片等
> 2. typora根据图像设置，调用picgo上传图片工具
> 3. picgo给图片改名（加个时间前缀防止重名）
> 4. picgo将图片上传到github仓库
> 5. github返回一个图片url
> 6. typora根据url，将图片显示出来，完事！



### Github 创建图床仓库

步骤如下：

1. 注册、登录（铁子们都有github吧，略了哈）

2. 新建仓库都不用说了吧。。仓库名起一个 picbed 、pics、imgs啥都行，默认公开的就行

3. 然后，打开链接：https://github.com/settings/tokens
    1. 然后点 `Generate new token`，就是创建一个新的token，用于上传图片
    2. 可能要你github登录密码，给 他

4. 然后照着下图填就行，其他不用管
    <img src="https://raw.githubusercontent.com/vacrain/typora_img/main/2022/2022-06-09_22-01-21_image-20220609220121150.png" alt="image-20220609220121150"  />
    
5. 填好找到最下面的`Generate token`，点他

6. 然后复制tocken，==找地方存好，一会儿要用的==
    ![image-20220609220544465](https://raw.githubusercontent.com/vacrain/typora_img/main/2022/2022-06-09_22-05-44_image-20220609220544465.png)



### picgo 安装及配置

> win和mac实现方式不一样哈，win用cli比较好，mac用gui

#### win端

> 这是win端哈，这是win


- 全局安装picgo，并安装、使用插件 （前提是安装好了 Nodejs 16+）依次在终端窗口运行就行：

```bash
# 全局安装 picgo
> npm install picgo -g

# 查看 picgo 是否安装成功，运行下面代码，显示版本号即为安装成功，我使用的版本 1.4.21
> picgo -v

# 安装 picgo 插件，用于使用gitee作为图床 和 上传图片时能在文件前缀加上时间戳
> picgo install picgo-plugin-github-plus super-prefix

# 挺有意思，安装成功会显示下面的中文，整个软件介绍页面都是英文，这来一句中文。。
[PicGo SUCCESS]: 插件安装成功

# 以前用了gitee的，可以卸载一下gitee哈
> picgo uninstall picgo-plugin-gitee-uploader

# 卸载成功显示如下：
[PicGo SUCCESS]: 插件卸载成功

# 启用 picgo 插件，运行下面命令后，使用上下方向键进行选择，按空格键可以勾选，按回车确定
> picgo use plugins
```

- 打开picgo配置文件，typora打开偏好设置，选图像，打开配置文件：

![image-20210908111146697](https://github.com/vacrain/typora_img/raw/main/assets/imgs/2021/2021-09-08 11-11-48_image-20210908111146697.png)


- 粘贴并修改配置（记得把注释删掉）：

```
 {
   "picBed": {
     "current": "github", // 代表当前的上传图床
     "uploader": "github",
     "github": {
       "branch": "master", // 分支名，默认是 master 也可能是 main
       "customUrl": "", // 没有自己的域名的话，默认为空即可； 如果自定义域名，注意要加http://或者https://
       "path": "2022/", // 自定义文件存储路径，比如 img/ 建议填
       "repo": "", // 仓库名，格式是 username/reponame <用户名>/<仓库名称> 必填
       "token": "" // github 私人令牌 必填,就是上面创建图床后，复制的那个tocken
     }
   },
   "picgoPlugins": {
     "picgo-plugin-super-prefix": true,
     "picgo-plugin-github-plus": true  // 启用插件
   },
  "picgo-plugin-super-prefix": {
    "prefixFormat": "YYYY-MM-DD_HH-mm-ss_"
  },
 }
```



#### mac端

> 这是mac端哈，这是mac的

- 下载

直接去下客户端软件吧（也可以试试win那种方式，npm全局安装，我之前是不太行）

下载`.dmg`格式的安装包：[PicGo-2.3.0-beta.6.dmg](https://github.com/Molunerfinn/PicGo/releases/download/v2.3.0-beta.6/PicGo-2.3.0-beta.6.dmg) （现在不知道最新版是啥了，这个我是稳定能用）



- 安装

下载完`PicGo-2.3.0-beta.6.dmg`，点开！无脑安装~

长这样：

![image-20220610071945488](https://raw.githubusercontent.com/vacrain/typora_img/main/2022/2022-06-10_07-19-45_image-20220610071945488.png)

- 给权限

> ## 打开 Picgo 应用，弹窗如下图，点取消！
>
> ##### 打开【系统设置】，找【安全】，同意打开就好了



<img src="https://github.com/vacrain/typora_img/raw/main/assets/imgs/2021/WX20210627-163017@2x.png" alt="WX20210627-163017@2x" style="zoom:50%;" />





- 打开

之后再打开 Picgo 应用，你会发现**没有窗口弹出来**，因为他**在顶部的菜单栏中**

黑天它长这个样（略丑，不要紧）：<img src="https://raw.githubusercontent.com/vacrain/typora_img/main/2022/2022-06-09_22-17-59_image-20220609221759035.png" alt="image-20220609221759035" style="zoom:200%;" />

白天长这样：<img src="https://raw.githubusercontent.com/vacrain/typora_img/main/2022/2022-06-10_06-26-03_image-20220610062603211.png" alt="image-20220610062603211" style="zoom:200%;" />



- 设置picgo

右键，打开详细。。然后，照着填吧

<img src="https://raw.githubusercontent.com/vacrain/typora_img/main/2022/2022-06-10_06-30-28_image-20220610063028654.png" alt="image-20220610063028654" style="zoom:150%;" />


- 安装 给文件自动改名插件

<img src="https://raw.githubusercontent.com/vacrain/typora_img/main/2022/2022-06-10_06-39-08_image-20220610063908315.png" alt="image-20220610063908315" style="zoom:150%;" />



- supper-prefix 的配置如下，填一下：YYYY-MM-DD_HH-mm-ss_

![image-20211016094956507](https://github.com/vacrain/typora_img/raw/main/assets/imgs/2021/2021-10-16_09-49-56_image-20211016094956507.png)

![image-20211016095159707](https://github.com/vacrain/typora_img/raw/main/assets/imgs/2021/2021-10-16_09-51-59_image-20211016095159707.png)



### 测试图床

> 最后一步了奥！

- **测试方法一**：

找个图片粘贴到文档中进行测试即可！

测试成功标准：

1. 图片显示正常
2. 图片地址是 github 的



- **测试方法二**：

或者在 Typora 设置中，点测试按钮也行

![image-20210908111736267](https://github.com/vacrain/typora_img/raw/main/assets/imgs/2021/2021-09-08 11-17-37_image-20210908111736267.png)

点完上面的按钮，会弹出 log，看标题判断是否上传成功~

![image-20210908111715487](https://github.com/vacrain/typora_img/raw/main/assets/imgs/2021/2021-09-08 11-17-17_image-20210908111715487.png)





## 安装 坚果云

> ### 如果使用一台及以上电脑，有同步文档的需要，才安装喔！
>
> ##### 一台电脑就别安了。。

官网：https://www.jianguoyun.com/

无脑下载安装，注册登录后就能用了，蟹蟹

其他参考：

[坚果云怎么删除文件夹](https://help.jianguoyun.com/?p=1391)

[手机端有哪些能查看并编辑 Markdown 文件的 app？ - 坚果云的回答 - 知乎](https://www.zhihu.com/question/422079819/answer/1701099274) 



# ————————————

# 其他问题

## mac 非要用cli的话

mac端，打开配置文件方式：终端运行 `open ~/.picgo/config.json`



## picgo上传动图 gif 的坑

如果直接复制网页上的动图，去上传的话是截取的某帧，是静图。

暂时没有太好的办法。。就尽量别用动图吧，做一个动图也挺费劲的

（网上其他方案：应该下载到本地，然后在拖进去上传就可以了。）





## 图床替换方案 gitee 改成 github

1. picgo.app 中，采用cdn代理，填写自定义格式：https://cdn.jsdelivr.net/gh/user/repo
2. 用 vscode 打开笔记项目

```
用vscode搜索 gitee.com/用户名/仓库名/raw/master
替换成 github.com/用户名/仓库名/raw/main
```

<img src="https://cdn.jsdelivr.net/gh/vacrain/typora_img/2022/2022-05-23_07-03-22_image-20220523070322361.png" alt="image-20220523070322361" style="zoom:150%;" />





